# فصل سوم: تکنیک‌ها و الگوریتم‌های هوش مصنوعی در بازی‌ها

در این فصل به بررسی فنی‌ترین بخش‌های هوش مصنوعی بازی می‌پردازیم.

## ۳.۱ ماشین‌های حالت محدود (Finite State Machines - FSM)
اساسی‌ترین و قدیمی‌ترین تکنیک. در این روش، NPC در هر لحظه در یک "حالت" خاص قرار دارد و بر اساس ورودی‌ها به حالت دیگری منتقل می‌شود.
- **مثال**: یک زامبی در حالت **Idle** (بیکار) است. اگر بازیکن را ببیند به حالت **Chase** (تعقیب) می‌رود و اگر به بازیکن برسد به حالت **Attack** (حمله) منتقل می‌شود.

## ۳.۲ درخت‌های رفتاری (Behavior Trees)
ساختاری درختی که تصمیم‌گیری را به بخش‌های کوچک و مدولار تقسیم می‌کند.
- **اجزا**: گره‌های انتخابگر (Selector)، توالی (Sequence) و برگ (Leaf).
- **مزیت**: بسیار مقیاس‌پذیرتر از FSM است و اجازه می‌دهد رفتارهای پیچیده را به راحتی مدیریت کنید.

## ۳.۳ برنامه‌ریزی اقدام هدف‌گرا (GOAP)
روشی که در آن به جای نوشتن تمام مراحل، فقط "هدف" و "اقدامات ممکن" را به NPC می‌دهیم.
- **نحوه کار**: NPC بررسی می‌کند که با کدام اقدامات می‌تواند به هدف برسد و بهترین مسیر را انتخاب می‌کند.
- **برنامه‌ریزی مبتنی بر سودمندی (Utility AI)**: NPC بر اساس وزن و ارزش هر اقدام، بهترین کار را در لحظه انتخاب می‌کند.

## ۳.۴ الگوریتم‌های مسیریابی (Pathfinding)
- **الگوریتم *A**: محبوب‌ترین روش. از فرمول `f(n) = g(n) + h(n)` برای یافتن کوتاه‌ترین و بهینه‌ترین مسیر استفاده می‌کند.
- **Dijkstra**: مشابه A* اما بدون تخمین (Heuristic)، که برای گراف‌های وزن‌دار دقیق‌تر اما کندتر است.
- **Flow Field**: مناسب برای مدیریت حرکت جمعیت‌های بزرگ (Crowd Simulation).

## ۳.۵ یادگیری تقویتی (Reinforcement Learning)
روشی که در آن عامل هوشمند با آزمون و خطا و دریافت پاداش یا جریمه، بهترین استراتژی را یاد می‌گیرد.
- **AlphaGo Zero**: نمونه‌ای که بدون هیچ داده انسانی و فقط با بازی کردن با خودش، به سطح استادی رسید.
